<div class="container mt-5">
  <h1>Dashboard</h1>

  <!-- Extractions Section -->
  <div class="card mt-4">
    <div class="card-header d-flex justify-content-between align-items-center">
      <h2>Recent Extractions</h2>
      <div>
        <%= link_to 'New', new_extraction_path, class: 'btn btn-primary mx-1' %>
        <%= link_to 'View All', extractions_path, class: 'btn btn-secondary mx-1' %>
      </div>
    </div>
    <div class="card-body">
      <% if @extractions.present? %>
        <ul class="list-group">
          <% @extractions.each do |extraction| %>
            <li class="list-group-item">
              <strong>Method:</strong> <%= extraction.brewing_method %> |
              <strong>Date:</strong> <%= l(extraction.created_at, format: :short) %>
              <p><%= extraction.comment %></p>
            </li>
          <% end %>
        </ul>
      <% else %>
        <p>No extractions found.</p>
      <% end %>
    </div>
  </div>

  <!-- User Coffees Section -->
  <div class="card mt-4">
    <div class="card-header d-flex justify-content-between align-items-center">
      <h2>Recent Coffees</h2>
      <div>
        <%= link_to 'New', new_user_coffee_path, class: 'btn btn-primary mx-1' %>
        <%= link_to 'View All', user_coffees_path, class: 'btn btn-secondary mx-1' %>
      </div>
    </div>
    <div class="card-body">
      <% if @user_coffees.present? %>
        <ul class="list-group">
          <% @user_coffees.each do |coffee| %>
            <li class="list-group-item">
              <strong>Name:</strong> <%= coffee.coffee.name %> |
              <strong>Weight Left:</strong> <%= coffee.weight_left %>g
              <p><%= coffee.personal_notes %></p>
            </li>
          <% end %>
        </ul>
      <% else %>
        <p>No coffees found.</p>
      <% end %>
    </div>
  </div>

  <!-- Accessories Section -->
<div class="card mt-4">
  <div class="card-header d-flex justify-content-between align-items-center">
    <h2>Accessories</h2>
    <div>
      <%= link_to 'New', new_accessory_path, class: 'btn btn-primary mx-1' %>
      <%= link_to 'View All', accessories_path, class: 'btn btn-secondary mx-1' %>
    </div>
  </div>
  <div class="card-body">
    <!-- Brewing Methods Section -->
    <h3>Last 3 registered Brewing Methods</h3>
    <% if @brewing_methods.present? %>
      <ul class="list-group mb-4">
        <% @brewing_methods.each do |accessory| %>
          <li class="list-group-item">
            <strong><%= accessory.name %></strong> | <%= accessory.accessory_type %>
          </li>
        <% end %>
      </ul>
    <% else %>
      <p>No brewing methods found.</p>
    <% end %>

    <!-- Other Accessories Section -->
    <h3>Last 5 Accessories</h3>
    <% if @other_accessories.present? %>
      <ul class="list-group">
        <% @other_accessories.each do |accessory| %>
          <li class="list-group-item">
            <strong><%= accessory.name %></strong> | <%= accessory.accessory_type %>
          </li>
        <% end %>
      </ul>
    <% else %>
      <p>No other accessories found.</p>
    <% end %>
  </div>
</div>
